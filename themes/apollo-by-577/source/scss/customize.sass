// Font
@import url("https://fonts.googleapis.com/earlyaccess/notosanstc.css")
@import url("https://fonts.googleapis.com/css?family=Play|Material+Icons")

// Variables
$green: #42b983
$red: #E36B6B
$green-light: #89c997
$red-light: #F66
$text-color: #34495e
$post-info-width: 100px

// Icon
.material-icons
    font-family: 'Material Icons'
    font-weight: normal
    font-style: normal
    font-size: 24px
    display: inline-block
    line-height: 1
    text-transform: none
    letter-spacing: normal
    word-wrap: normal
    white-space: nowrap
    direction: ltr
    /* Support for all WebKit browsers. */
    -webkit-font-smoothing: antialiased
    /* Support for Safari and Chrome. */
    text-rendering: optimizeLegibility
    /* Support for Firefox. */
    -moz-osx-font-smoothing: grayscale
    /* Support for IE. */
    font-feature-settings: 'liga'

// Styles
body
    font-family: 'sourcesanspro', 'Play', 'Noto Sans TC', '微軟正黑體', 'Helvetica Neue', Arial, sans-serif
    // font-weight: 300
    min-width: 320px

header
    min-height: 120px
    margin-top: 20px
    padding: 20px 0px
    .logo-link img
        height: 120px
        transform: scaleX(-1)

.logo-link .subtitle
    color: $green-light
    display: inline-block
    font-size: .8rem
    font-family: 'Play', consolas, sans-serif
    margin-left: 10px
    text-align: left
    vertical-align: 35px
    width: 160px
    word-break: break-word


.wrap
    width: 640px

p img
    border: 1px solid #efefef
    box-shadow: 0 2px 2px rgba(black, .1)

.post-block
    .post-title
        font-size: 2em
        margin-bottom: 0

    .post-info
        margin-top: .5em
        margin-bottom: 3em
        position: relative
        &:after
            content: ''
            width: 1em
            height: 2px
            background-color: $green
            position: absolute
            bottom: -.5em
            left: 0
            opacity: .9

.home.post-list .post-content h2:before, .home.post-list .post-content h3:before
    content: '#'

.post-content
    h1
        font-size: 1.5em
    h2, h3
        margin-left: .8em
        font-size: 1.3em
    h3
        font-size: 1.2em
    h4, h5, h6
        font-size: 1em
    h2:before, h3:before
        top: -3px

.home.post-list .read-more:hover
    border-bottom: 1px solid $green

.post-content
    a
        // border-bottom: 1px dotted $green
        &:hover
            border-bottom: 1px solid $green
    h1, h2, h3, h4, h5, h6
        a:hover
            border-width: 2px
    .tip, .highlight, .murmur, img
        & + br
            display: none // remove over space
    .img-description
        display: block
        margin-top: -5px
    .tip
        margin: 1em 0
        margin-left: .75em
        .murmur
            margin: 0 .5em
    .murmur
        display: block
        margin: 1em 1.3em
        padding-top: 3em
        position: relative
        &:before
            @extend .post-tag
            border-color: #AAA !important
            content: 'MURMUR'
            color: #AAA !important
            position: absolute
            top: .75em
            left: -5px
        &:hover:before
            background: none !important
        & > br:first-of-type
            display: none // remove first br's space, let this tag can be writed readiable (can break line)


code, pre
    font-family: 'consolas', 'play', 'Noto Sans TC', sans-serif
    word-break: break-all

blockquote
    font-size: 1.1em
    footer
        font-size: .85rem
        cite
            margin-left: .5em

hr
    border-top: 1px solid #FDFDFD
    margin: 2em 0
    display: block

.home.post-list.post-sticky
    border: .5em solid $green-light
    border-radius: .4em
    margin-bottom: 3em
    padding: 1em
    position: relative
    &:before, &:after
        content: ''
        position: absolute
        left: 50%
        bottom: -.3em
        transform: translate(-50%, 100%)
        width: 3em
        height: 2em
        background: darken($green-light, 5%)
        border-bottom: 4px solid $text-color
    &:after
        bottom: -2em
        width: 7em
        height: .7em
        background: darken($green-light, 5%)
    .post-list-item
        background: $text-color //#F8F8F8
        border: 2px solid $green-light
        overflow: hidden
        padding: .1em 1em 1em 1em
        position: relative
        &:before, &:after
            content: ''
            position: absolute
            top: 0
            bottom: 0
            left: 50%
            width: 5em
            background: rgba(white, .1)
            transform: skewX(-20deg)
        &:after
            left: calc(50% + 6em)
            width: 2em
        .post-title-link, .post-content
            color: rgba(white, .75)
        .post-tag
            opacity: .9
        a.read-more
            display: block
            margin-top: 2em
            visibility: hidden
            color: $red // $green-light
            &:hover
                border: none
                &:before, &:after
                    color: $green-light
                    border-color: $green-light
            &:after
                animation: typewriter 5s infinite linear
                content: ''
                float: right
                font-family: 'consolas', sans-serf
                font-size: .9em
                font-weight: 500
                visibility: visible
            &:before
                animation: cursorblinks 5s infinite linear
                border-bottom: 1.5px solid $green
                content: ''
                color: inherit
                float: right
                height: 1em
                width: .5em
                margin-left: 5px
                margin-right: .3em
                visibility: visible
                position: relative

$sentence: 'READ MORE'
@keyframes typewriter
    @for $i from 1 through str-length($sentence)
        #{10+($i*3)}%, #{100-($i*3)}%
            content: str-slice($sentence, 0, $i)
@keyframes cursorblinks
    0%, 40%, 80%, 100%
        border-color: inherit
    @for $i from 8 through 12
        #{$i*6}%
            @if $i%2 == 0
                border-color: inherit
            @else
                border-color: transparent

// ARCHIVE
.archive
    .post-info
        width: $post-info-width
    .post-tags
        margin-bottom: 1em
    .post-title-link
        font-size: 1.05em
        font-weight: 400
        margin-left: $post-info-width
        &:hover
            color: $text-color

.sticky
    color: $red-light !important
    &:hover
        color: $red !important
        .material-icons
            border-color: $red
    .material-icons
        border: 2px solid $red-light
        border-radius: .2em
        font-size: 1em
        margin-left: -1.2em
        margin-right: .2em
        vertical-align: -5%



// TAGS
.tag-cloud
    text-align: center
    border: 2px solid $red
    border-radius: 50em
    padding: 1em 2em
    a
        margin-right: .5em
        color: $red
        display: inline-block
        line-height: 1.3
        padding-left: .75em
        position: relative
        text-transform: capitalize
        font-family: 'Play', sans-serif
        &:hover
            border-bottom: 1px solid $red
        &:before
            content: '#'
            color: $red
            position: absolute
            top: 50%
            left: 0
            transform: translateY(-50%)

.post-info .post-tags
    display: inline-block
    font-size: .9em
    margin-left: 1em !important

.post-tag
    color: $red
    border: 1px solid $red
    border-radius: 1.5em
    display: inline-block
    font-size: .9em
    font-family: 'Play', sans-serif
    line-height: 1.4
    padding: .05em .5em .2em .5em
    min-width: 1.5em
    text-align: center
    text-transform: capitalize
    &:hover, &.current-tag
        background: $red
        border-color: $red
        color: white
    &:not(:last-child)
        margin-right: .75em


// in archive
.post-item
    .post-tags
        margin-left: $post-info-width
        margin-bottom: .75em
        display: block
    .post-tag
        font-size: .8em


// DESKTOP //
@media screen and (min-width: 700px)
    header .nav
        line-height: 120px
    .archive
        margin-top: 3em


// TABLET //
@media screen and (max-width: 700px)
    .wrap
        width: 100%
        box-sizing: border-box
        margin: auto
        padding: 0 1em
    .logo-link .subtitle
        display: block
        margin-left: 0
        text-align: center
        width: 100%
    .post-content
        h2, h3, h4, h5, .tip
            margin-left: 0
        h4, h5
            left: 0
    .archive
        margin-top: 1em
        .post-item
            padding-left: 10px

// MOBILE //
@media screen and (max-width: 480px)
    .home.post-list.post-sticky
        padding-right: 1em
        padding-top: 2em
        padding-bottom: 5em
        margin-bottom: 1em
        // 按鈕
        &:before
            // bottom: 4.2em
            top: auto
            left: 50%
            transform: translate(-50%, -50%)
            border-radius: 3em
            border: .4em solid white //$green-light
            background: lighten($green-light, 3%)
            width: 2em
            height: 2em
            box-shadow: 0 0 0 .3em $green-light
        // 聽筒
        &:after
            top: 0%
            transform: translate(-50%, 150%)
            width: 3em
            height: .5em
            border-radius: 2em
            border: none
        // &:after
        //     border: .2em solid $green-light !important
        //     // transform: translate(-50%, calc(100% + .4em))
        //     bottom: 3.6em
        //     width: 1.8em
        //     height: 1.8em
        // &:after

// Highlight
.highlight figcaption
    border-bottom: 1px solid #ECECEC
    padding: .5em .75em
    font-size: .8em
    span
        color: rgba($text-color, .5)
        font-family: 'consolas', 'Play', sans-serif
    a
        float: right
        line-height: 1.2
        border-color: transparent

#disqus_thread
    transform: scale(0.9)